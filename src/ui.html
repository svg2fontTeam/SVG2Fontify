<main>
  <form class="container" action="">
    <table>
      <colgroup>
        <col colspan="2" />
      </colgroup>
      <tbody>
        <tr>
          <td colspan="2">
            <div class="inputTitle">FONT NAME</div>
            <input
              id="fontName"
              class="inputText width100"
              placeholder="Font name"
              maxlength="255"
            />
          </td>
        </tr>
        <tr>
          <td>
            <div class="inputTitle">CLASS PREFIX</div>
            <input
              id="preClass"
              class="inputText width90"
              placeholder="Prefix for SVGs"
              maxlength="50"
            />
          </td>
          <td>
            <div class="inputTitle">CLASS SUFFIX</div>
            <input
              id="sufClass"
              class="inputText width90"
              placeholder="Suffix for SVGs"
              maxlength="50"
            />
          </td>
        </tr>
        <tr>
          <td colspan="2">
            <div class="inputTitle">VERSION</div>
            <input id="version" class="inputText width50" placeholder="Version" maxlength="50" />
          </td>
        </tr>
      </tbody>
    </table>
    <table>
      <colgroup>
        <col colspan="3" />
      </colgroup>
      <tbody>
        <tr>
          <td colspan="3"><div class="inputTitle">EXPORT OPTION</div></td>
        </tr>
        <tr>
          <td>
            <input type="checkbox" id="react" name="chk" value="r" />
            <label for="react" class="checkboxLabel">React(.tsx)</label>
          </td>
          <td>
            <input type="checkbox" id="vue" name="chk" value="v" />
            <label for="vue" class="checkboxLabel">Vue(.vue)</label>
          </td>
          <td>
            <input type="checkbox" id="sass" name="chk" value="s" />
            <label for="sass" class="checkboxLabel">Sass</label>
          </td>
        </tr>
      </tbody>
    </table>
  </form>
  <button class="GenerateBtn width100">Generate</button>
</main>

<script>
  const isErr = true;

  // 유효성검사 추가 함수.
  function regexpTestAdd(id, html, isErr) {
    html.addEventListener('keyup', () => {
      const postVal = html.value;
      parent.postMessage({ pluginMessage: { type: id, isErr, postVal } }, '*');
      window.onmessage = (event) => {
        const rtnVal = event.data.pluginMessage.rtnVal;
        html.value = rtnVal;
      };
    });
  }

  regexpTestAdd('fontName', document.getElementById('fontName'), isErr);
  regexpTestAdd('preClass', document.getElementById('preClass'), isErr);
  regexpTestAdd('sufClass', document.getElementById('sufClass'), isErr);
  regexpTestAdd('version', document.getElementById('version'), isErr);
</script>
